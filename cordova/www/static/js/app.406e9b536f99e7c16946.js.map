{"version":3,"sources":["webpack:///./src/App.vue?b308","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/axios/config.js","webpack:///src/views/home.vue","webpack:///./src/views/home.vue?670c","webpack:///./src/views/home.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","service","axios","create","baseURL","timeout","interceptors","request","use","config","headers","error","promise_default","a","reject","response","data","waterfall","home","components","pickerOptions","disabledDate","time","getTime","Date","now","list","over","currentDate","page","selectedCount","created","mounted","init","tmpDate","setDate","getDate","dateFormat","_this","document","getElementById","addEventListener","e","target","attributes","nodeValue","idx","parseInt","showBigAction","value","indexOf","classList","add","remove","event","preventDefault","parent","parentNode","methods","console","log","innerHTML","WaterFall","container","pins","loader","gapHeight","gapWidth","pinWidth","threshold","on","loadMore","_this2","url","method","params","date","mode","then","res","_this$list","length","dataArr","imgArr","_loop","_i","type","pageCount","imageUrls","forEach","urls","newObj","origin","prop","clone","src","large","replace","push","preLen","arr","i","len","title","apply","append","join","tmp","ele","$imagePreview","images","index","syncho","checkedList","getElementsByClassName","img","previousElementSibling","getAttribute","downloadIamge","artistPreView","today","toTop","timer","setInterval","currentPosition","documentElement","scrollTop","body","window","scrollTo","clearInterval","changeDate","oYear","getFullYear","oMoth","getMonth","toString","oDay","imgsrc","image","Image","setAttribute","onload","canvas","createElement","width","height","getContext","drawImage","toDataURL","MouseEvent","download","href","dispatchEvent","views_home","_vm","staticStyle","margin-top","staticClass","placeholder","value-format","picker-options","change","model","callback","$$v","expression","_v","size","plain","click","$event","right","bottom","_m","src_views_home","home_normalizeComponent","Vue","Router","router","routes","path","redirect","component","Home","ElementUI","productionTip","infiniteScroll","require","VueImageSwipe","el","App","template"],"mappings":"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","file":"static/js/app.406e9b536f99e7c16946.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-250ce017\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-250ce017\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-250ce017\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n<div id=\"app\">\n  <!-- <img src=\"./assets/logo.png\"> -->\n  <router-view />\n</div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  color: #2c3e50;\n  /* margin-top: 60px; */\n}\n\n* {\n  margin: 0;\n  padding: 0;\n}\n\nbody,\nhtml {\n  width: 100%;\n  height: 100%;\n}\n\nimg {\n  max-width: 100%;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import axios from 'axios';\nimport Vue from 'vue'\n\n// import { getToken } from '';\n// let BASE_URL = 'http://10.131.13.66/api'\n// 创建axios实例\nconst service = axios.create({\n  // baseURL: 'http://localhost:8080', //测试\n  baseURL: \"https://api.pixivic.com\", //正式\n\n  timeout: 10000, // 请求超时时间\n  /***如果qs没有stringify,将下面方法打开才能提交form,只在post时生效 **/\n  /*\n  transformRequest: [function (data) {\n    // Do whatever you want to transform the data1\n    let ret = ''\n    for (let it in data) {\n      ret += encodeURIComponent(it) + '=' + encodeURIComponent(data[it]) + '&'\n    }\n    //console.log(ret);\n    return ret;\n  }]*/\n});\nlet _config\n// request拦截器\nservice.interceptors.request.use(config => {\n  _config = config\n  //\tif(typeof(config.params)=='object'){\n  //\t\tconfig.params['_rnd']=Math.random();\n  //\t}else{\n  //\t\tconfig.params={\n  //\t\t\t_rnd:Math.random()\n  //\t\t}\n  //\t}\n  // let token = sessionStorage.getItem( 'token' );\n  // if ( token ) {\n  // \tconfig.headers[ 'Authorization' ] = token; // 让每个请求携带token--['Authorization']为自定义key 请根据实际情况自行修改\n  // }\n  config.headers['Content-Type'] = \"application/json\"; //让每个请求携带Openid,请根据实际情况自行修改\n  return config;\n}, error => {\n  //store.commit('openToast','请求错误');\n  //console.log(\"request_error\")\n  // Do something with request error\n  //console.log(error); // for debug\n  Promise.reject(error);\n})\n/**=======================================**/\n// respone拦截器\nservice.interceptors.response.use(\n  /**\n   * 下面的注释为通过response自定义code来标示请求状态，当code返回如下情况为权限有问题，登出并返回到登录页\n   * 如通过xmlhttprequest 状态码标识 逻辑可写在下面error中,\n   */\n  response => {\n    const res = response.data;\n    return res;\n  },\n  /**接口交互错误是处理,如果特殊错误,可对message进行修改**/\n  error => {\n    //Vue.$vux.loading.hide();\n    //Vue.$vux.toast.text(\"网络错误\");\n    //store.state.netError = true;\n    //store.commit('timeOpen', \"<em style='color:red;'>网络故障</em>\");\n    // console.log( error.response );\n    // let msg = '';\n    // if ( error.response.status == 502 ) {\n    // \tmsg = '请重新请求一次'\n    // } else {\n    // \tfor ( let item in error.response.data ) {\n    // \t\tmsg = error.response.data[ item ]\n    // \t}\n    // }\n    //\n    // store.commit( 'openInfoPop', msg )\n    // return Promise.reject( error );\n    Promise.reject(error);\n    return false\n  }\n\n)\n\nexport default service;\n\n\n// WEBPACK FOOTER //\n// ./src/axios/config.js","<template>\n  <div style=\"margin-top: 20px;\">\n    <div class=\"block\">\n      <el-date-picker\n        v-model=\"currentDate\"\n        type=\"date\"\n        placeholder=\"选择日期\"\n        value-format=\"yyyy-MM-dd\"\n        @change=\"init\"\n        :picker-options=\"pickerOptions\"\n      ></el-date-picker>\n    </div>\n    <el-badge :value=\"selectedCount\" class=\"item\" type=\"success\" id=\"count\" />\n    <el-button type=\"success\" size=\"mini\" plain @click=\"syncho\" id=\"syncho\">同步</el-button>\n    <el-button type=\"primary\" size=\"mini\" plain @click=\"today\" id=\"today\">今日</el-button>\n\n    <button type=\"button\" class=\"el-carousel__arrow el-carousel__arrow--left\" @click=\"changeDate(-1)\">\n      <i class=\"el-icon-arrow-left\"></i>\n    </button>\n    <button type=\"button\" class=\"el-carousel__arrow el-carousel__arrow--right\" @click=\"changeDate(1)\">\n      <i class=\"el-icon-arrow-right\"></i>\n    </button>\n    <div class=\"el-backtop\" style=\"right: 10px; bottom: 10px;\">\n      <i class=\"el-icon-caret-top\" @click=\"toTop\"></i>\n    </div>\n\n    <div id=\"waterfall\"></div>\n    <div class=\"loader\" id=\"loader\">\n      <div class=\"loader-inner line-spin-fade-loader\">\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nvar waterfall = null;\nexport default {\n  components: {},\n  data() {\n    return {\n      pickerOptions: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      list: [],\n      over: false,\n      currentDate: \"\",\n      page: 0,\n      selectedCount: 0\n    };\n  },\n  created() {},\n  mounted() {\n    this.init();\n    let tmpDate = new Date();\n    tmpDate.setDate(tmpDate.getDate() - 3);\n    this.currentDate = this.dateFormat(tmpDate);\n\n    let _this = this;\n\n    // 添加点击事件\n    document.getElementById(\"waterfall\").addEventListener(\"click\", function(e) {\n      if (\n        e.target.attributes[\"son-idx\"] &&\n        !(\n          e.target.attributes[\"son-idx\"].nodeValue === null ||\n          e.target.attributes[\"son-idx\"].nodeValue === \"\"\n        )\n      ) {\n        let idx = parseInt(e.target.attributes[\"son-idx\"].nodeValue);\n        _this.showBigAction(idx);\n      } else if (\n        e.target.attributes[\"class\"] &&\n        e.target.attributes[\"class\"].value.indexOf(\"description\") != -1\n      ) {\n        if (e.target.attributes[\"class\"].value.indexOf(\"checked\") == -1) {\n          e.target.classList.add(\"checked\");\n          _this.selectedCount += 1;\n        } else {\n          e.target.classList.remove(\"checked\");\n          _this.selectedCount -= 1;\n        }\n      }\n    });\n\n    // 添加右键点击事件\n    document\n      .getElementById(\"waterfall\")\n      .addEventListener(\"contextmenu\", function(e) {\n        event.preventDefault();\n\n        if (\n          e.target.attributes[\"class\"] &&\n          e.target.attributes[\"class\"].value == \"img\"\n        ) {\n          let parent = e.target.parentNode;\n          if (parent.attributes[\"class\"].value.indexOf(\"green-bord\") == -1) {\n            parent.classList.add(\"green-bord\");\n          } else {\n            parent.classList.remove(\"green-bord\");\n          }\n        }\n      });\n  },\n  methods: {\n    init() {\n      console.log(\"初始化\")\n      console.log(this.over)\n      // 初始化\n      this.list = [];\n      this.page = 1;\n      this.over = false;\n      document.getElementById(\"waterfall\").innerHTML = \"\";\n\n      // 插件 https://github.com/mqyqingfeng/waterfall\n      waterfall = new WaterFall({\n        container: \"#waterfall\",\n        pins: \".pin\",\n        loader: \"#loader\",\n        gapHeight: 20,\n        gapWidth: 20,\n        pinWidth: 160,\n        threshold: 100\n      });\n\n      let _this = this;\n      waterfall.on(\"load\", function() {\n        _this.loadMore();\n      });\n    },\n    loadMore() {\n      // 加载数据\n      // 没有数据\n      console.log(\"加载数据\")\n      if (this.over) return;\n      let _this = this;\n\n      getData(_this.page, _this.currentDate).then(res => {\n        _this.page += 1;\n        if (!res || !res.data || !res.data.data || res.data.data.length < 1) {\n          this.over = true;\n          // document.getElementById(\"loader\").innerHTML(\"hahahahahah\")\n          return;\n        }\n\n        // 处理多张图片\n        let dataArr = res.data.data;\n        let imgArr = [];\n        for (let i = 0; i < dataArr.length; i++) {\n          let e = dataArr[i];\n          if (e.type == \"manga\" || e.pageCount > 10) {\n            continue;\n          }\n\n          let partArr = e.imageUrls.forEach(urls => {\n            let newObj = {};\n            clone(e, newObj);\n            newObj.src = urls;\n            newObj.src.large = newObj.src.large.replace('pximg.net', 'pixiv.cat');\n            imgArr.push(newObj);\n          });\n        }\n\n        let preLen = _this.list.length;\n        var arr = [];\n        for (var i = 0, len = imgArr.length; i < len; i++) {\n          var data = imgArr[i];\n          arr.push(\n            '<div class=\"pin\"><img son-idx=\"' +\n              (preLen + i) +\n              '\" src=\"' +\n              data.src.large +\n              '\" class=\"img\" alt=\"' +\n              data.title +\n              '\"> <p class=\"description\">' +\n              data.title +\n              '<i class=\"el-icon-success\"></i></p></div>'\n          );\n        }\n        _this.list.push(...imgArr);\n        // 调用 append 方法 检验是否所有的图片都具有高度后才会 append 进文档树中\n        waterfall.append(arr.join(\"\"), \".img\");\n      });\n    },\n    showBigAction(idx) {\n      // 图片放大预览\n      let tmp = [];\n      this.list.forEach(ele => {\n        tmp.push(ele.src.large);\n      });\n      this.$imagePreview({\n        images: tmp,\n        index: idx\n      });\n    },\n    syncho() {\n      // 同步\n      let _this = this;\n      let checkedList = document.getElementsByClassName(\"checked\");\n\n      for (let i = 0; i < checkedList.length; i++) {\n        let e = checkedList[i];\n        let img = e.previousElementSibling;\n        let index = img.getAttribute('son-idx');\n        let data = _this.list[index];\n\n        downloadIamge(\n          img.src,\n          data.artistPreView.name + \" •「\" + data.id + \"」\"\n        );\n      }\n\n      // return fetch({\n      //   url: \"/static/data.json\",\n      //   method: \"post\",\n      //   // params:{'year': year},\n      //   data: {}\n      // });\n    },\n    today() {},\n    toTop() {\n      // 回到顶部\n      var gotoTop = function() {\n        var currentPosition =\n          document.documentElement.scrollTop || document.body.scrollTop;\n        currentPosition -= 100;\n        if (currentPosition > 0) {\n          window.scrollTo(0, currentPosition);\n        } else {\n          window.scrollTo(0, 0);\n          clearInterval(timer);\n          timer = null;\n        }\n      };\n      var timer = setInterval(gotoTop, 1);\n      // window.scrollTo(0, 0);\n    },\n    changeDate(i) {\n      let date = new Date(this.currentDate);\n      date.setDate(date.getDate() + i);\n      this.currentDate = this.dateFormat(date);\n      this.init();\n    },\n    dateFormat(date) {\n      var oYear = date.getFullYear();\n      var oMoth = (date.getMonth() + 1).toString();\n      if (oMoth.length <= 1) oMoth = \"0\" + oMoth;\n      var oDay = date.getDate().toString();\n      if (oDay.length <= 1) oDay = \"0\" + oDay;\n      return oYear + \"-\" + oMoth + \"-\" + oDay;\n    }\n  }\n};\n\nimport fetch from \"@/axios/config.js\";\n//获取数据\nfunction getData(page, currentDate) {\n  return fetch({\n    url: \"/ranks\",\n    // url: \"/static/data.json\",\n    method: \"get\",\n    params: {\n      page: page,\n      date: currentDate,\n      mode: 'day'\n    }\n    // data: {}\n  });\n}\n\n//深度克隆对象的方法\t -- > 深层拷贝，对象属性方法一致，单都是单独的个体。\nfunction clone(origin, target) {\n  var target = target || {};\n  for (var prop in origin) {\n    target[prop] = origin[prop];\n  }\n  return target;\n}\n\n/**\n * 下载图片\n * @param  imgsrc 下载图片地址\n * @param  name 图片名\n */\nfunction downloadIamge(imgsrc, name) {\n  var image = new Image();\n  // 解决跨域 Canvas 污染问题\n  image.setAttribute(\"crossOrigin\", \"anonymous\");\n  image.onload = function() {\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = image.width;\n    canvas.height = image.height;\n    var context = canvas.getContext(\"2d\");\n    context.drawImage(image, 0, 0, image.width, image.height);\n    var url = canvas.toDataURL(\"image/png\"); //得到图片的base64编码数据\n    var a = document.createElement(\"a\"); // 生成一个a元素\n    var event = new MouseEvent(\"click\"); // 创建一个单击事件\n    a.download = name || \"photo\"; // 设置图片名称\n    a.href = url; // 将生成的URL设置为a.href属性\n    a.dispatchEvent(event); // 触发a的单击事件\n  };\n  image.src = imgsrc;\n}\n</script>\n\n<style>\n.el-carousel__arrow {\n  position: fixed;\n}\n/* .el-backtop {\n  bottom: 10px !important;\n  right: 10px !important;\n} */\n.description i {\n  display: none;\n  color: lime;\n  font-size: 20px;\n}\n.description.checked i {\n  display: inline-block;\n}\n.green-bord {\n  border: 3px lime solid;\n}\n#count {\n  z-index: 100;\n  position: fixed;\n  left: 10px;\n  top: 10px;\n}\n#syncho {\n  position: absolute;\n  right: 10px;\n  top: 10px;\n}\n#today {\n  position: absolute;\n  right: 10px;\n  top: 40px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"20px\"}},[_c('div',{staticClass:\"block\"},[_c('el-date-picker',{attrs:{\"type\":\"date\",\"placeholder\":\"选择日期\",\"value-format\":\"yyyy-MM-dd\",\"picker-options\":_vm.pickerOptions},on:{\"change\":_vm.init},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1),_vm._v(\" \"),_c('el-badge',{staticClass:\"item\",attrs:{\"value\":_vm.selectedCount,\"type\":\"success\",\"id\":\"count\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"plain\":\"\",\"id\":\"syncho\"},on:{\"click\":_vm.syncho}},[_vm._v(\"同步\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"plain\":\"\",\"id\":\"today\"},on:{\"click\":_vm.today}},[_vm._v(\"今日\")]),_vm._v(\" \"),_c('button',{staticClass:\"el-carousel__arrow el-carousel__arrow--left\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.changeDate(-1)}}},[_c('i',{staticClass:\"el-icon-arrow-left\"})]),_vm._v(\" \"),_c('button',{staticClass:\"el-carousel__arrow el-carousel__arrow--right\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.changeDate(1)}}},[_c('i',{staticClass:\"el-icon-arrow-right\"})]),_vm._v(\" \"),_c('div',{staticClass:\"el-backtop\",staticStyle:{\"right\":\"10px\",\"bottom\":\"10px\"}},[_c('i',{staticClass:\"el-icon-caret-top\",on:{\"click\":_vm.toTop}})]),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"waterfall\"}}),_vm._v(\" \"),_vm._m(0)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"loader\",attrs:{\"id\":\"loader\"}},[_c('div',{staticClass:\"loader-inner line-spin-fade-loader\"},[_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div'),_vm._v(\" \"),_c('div')])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-50f76097\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-50f76097\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-50f76097\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/home.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Home from '@/views/home'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [{\n    path: '*',\n    redirect: '/' //重定向\n  }, {\n    path: '/',\n    name: 'Home',\n    component: Home\n  }]\n})\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css';\nVue.use(ElementUI)\n\nVue.config.productionTip = false\n\n//滚动加载\nvar infiniteScroll = require('vue-infinite-scroll');\nVue.use(infiniteScroll)\n\n\n//图片查看\nimport VueImageSwipe from 'vue-image-swipe'\nimport 'vue-image-swipe/dist/vue-image-swipe.css'\nVue.use(VueImageSwipe)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: {\n    App\n  },\n  template: '<App/>'\n})\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}